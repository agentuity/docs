---
title: "Module 7: Advanced Multi-Agent Research System"
description: Building sophisticated agent coordination with recursive research
---

Time to build an advanced multi-agent research system that combines everything you've learned.

## Building Your Capstone

As you work on your capstone project:

1. **Review previous modules** - Each contains pieces you'll need
2. **Start simple** - Get basic flow working first
3. **Iterate** - Add features incrementally
4. **Test thoroughly** - Each agent independently, then together
5. **Monitor everything** - You can't fix what you can't see

<Callout type="info">
Pro Tip: Build your research system iteratively. Start with orchestrator + web search agents, get that working perfectly, then add recursive research and report generation.
</Callout>

## Coming Soon: Agentic Sandbox

<Callout type="info">
**Coming Q2 2025**: The Agentic Sandbox - an interactive environment where you can experiment with agents risk-free, test complex scenarios, and learn through hands-on exploration.
</Callout>

### What is the Agentic Sandbox?

A safe, isolated environment for agent experimentation:
- **Pre-configured scenarios**: Common agent patterns ready to explore
- **Interactive debugging**: Step through agent decisions
- **Instant reset**: Break things and start fresh
- **Guided challenges**: Progressive exercises with hints

### Sandbox Features (Coming Soon)

- Mock data sources and APIs
- Simulated user interactions
- Time travel debugging
- Performance profiling
- Collaborative sessions

## Coming Soon: Training Agent

<Callout type="info">
**Coming Q2 2025**: Your AI-powered learning companion that adapts to your progress, answers questions, and provides personalized guidance through the Agentuity platform.
</Callout>

### Your Personal Agent Instructor

An intelligent assistant that helps you learn:
- **Contextual help**: Understands what you're building
- **Debugging assistance**: Helps identify and fix issues
- **Learning paths**: Customized based on your experience
- **Best practices**: Recommends patterns for your use case

## Capstone Project: Deep Research System

Build an advanced multi-agent research system that demonstrates mastery of sophisticated agent coordination, recursive algorithms, and real-world API integration.

### Project Overview

**Goal**: Create a research system that can:
- Coordinate multiple specialized research agents
- Conduct recursive deep-dive investigations
- Accumulate knowledge across research iterations
- Generate comprehensive structured reports
- Handle complex multi-source information synthesis

### System Architecture

<Mermaid chart="
graph TD
    User[Research Request] --> Orchestrator[Research Orchestrator]
    Orchestrator --> Researcher[Deep Researcher]
    Researcher -->|Recursive Calls| Researcher
    Researcher --> WebSearch[Web Search Agent]
    WebSearch --> Researcher
    Researcher --> Author[Report Author]
    Author --> User[Structured Report]
    Memory[(Research State)] -.-> Orchestrator
    Memory -.-> Researcher
    Memory -.-> Author
" />

### Skills Progression

This sophisticated system builds on concepts from every previous module:

| Module | Skills Applied in Deep Research |
|--------|--------------------------------|
| **Module 1** | Request handling, error management → Complex orchestration |
| **Module 2** | Trigger behaviors → Agent coordination patterns |
| **Module 3** | Memory management → Research state accumulation |
| **Module 4** | Multi-agent basics → Advanced orchestration |
| **Module 5** | Validation → Research quality assurance |
| **Module 6** | Deployment → Production research system |

### Key Implementation: Research Orchestration

The orchestrator coordinates the entire research workflow:

<CodeExample py={`# Python - Research orchestration with structured planning
research_plan = await generate_research_plan(query)

# Coordinate multi-step research workflow
researcher = await context.get_agent(name="deep-researcher")
research_result = await researcher.run({
    "query": query,
    "plan": research_plan,
    "max_depth": 3
})

return await research_result.data.json()`} js={`// TypeScript - Research orchestration with structured planning
const researchPlan = await generateObject({
  model: anthropic('claude-3-5-sonnet-20241022'),
  schema: ResearchPlanSchema,
  prompt: \`Create a research plan for: "\${query}"\`
});

// Coordinate multi-step research workflow
const researcher = await context.getAgent({ name: 'deep-researcher' });
const researchResult = await researcher.run({
  data: JSON.stringify({
    query,
    plan: researchPlan.object,
    maxDepth: 3
  }),
  contentType: 'application/json'
});`} />

### Key Implementation: Recursive Research Pattern

The researcher agent conducts deep, iterative research:

<CodeExample py={`# Python - Recursive research with learning accumulation
async def conduct_research(query: str, accumulated_knowledge: list, depth: int, context: AgentContext):
    if depth >= MAX_DEPTH or sufficient_information(accumulated_knowledge):
        return accumulated_knowledge

    # Conduct research iteration
    new_findings = await search_and_analyze(query, context)
    accumulated_knowledge.extend(new_findings)

    # Generate follow-up questions based on findings
    follow_up_queries = await generate_follow_ups(accumulated_knowledge)

    # Recursive calls for deeper research
    for follow_up in follow_up_queries:
        deeper_knowledge = await conduct_research(
            follow_up, accumulated_knowledge, depth + 1, context
        )
        accumulated_knowledge.extend(deeper_knowledge)

    return accumulated_knowledge`} js={`// TypeScript - Recursive research with learning accumulation
const conductResearch = async (
  query: string,
  accumulatedKnowledge: ResearchFinding[],
  depth: number,
  context: AgentContext
) => {
  if (depth >= MAX_DEPTH || sufficientInformation(accumulatedKnowledge)) {
    return accumulatedKnowledge;
  }

  // Conduct research iteration
  const newFindings = await searchAndAnalyze(query, context);
  accumulatedKnowledge.push(...newFindings);

  // Generate follow-up questions based on findings
  const followUpQueries = await generateFollowUps(accumulatedKnowledge);

  // Recursive calls for deeper research
  for (const followUp of followUpQueries) {
    const deeperKnowledge = await conductResearch(
      followUp, accumulatedKnowledge, depth + 1, context
    );
    accumulatedKnowledge.push(...deeperKnowledge);
  }

  return accumulatedKnowledge;
};`} />

### Key Implementation: Smart Caching Strategies

Different caching approaches based on research depth and complexity:

<CodeExample py={`# Python - Smart caching strategies for research data
# Different TTL strategies based on research type
if research_type == 'comprehensive':
    # Complex research - longer cache (1 hour)
    await context.kv.set('research', cache_key, results, {'ttl': 3600})
else:
    # Quick research - shorter cache (15 minutes) for responsiveness
    await context.kv.set('research', cache_key, results, {'ttl': 900})`} js={`// TypeScript - Smart caching strategies for research data
// Different TTL strategies based on research type
if (researchType === 'comprehensive') {
  // Complex research - longer cache (1 hour)
  await context.kv.set('research', cacheKey, results, { ttl: 3600 });
} else {
  // Quick research - shorter cache (15 minutes) for responsiveness
  await context.kv.set('research', cacheKey, results, { ttl: 900 });
}`} />

### Build This Project Yourself

Ready to implement this project? Follow our complete examples:

<div className="flex flex-wrap gap-3 mb-6">
  <a href="https://github.com/agentuity/examples/tree/add-tutorials/training/07-deep-research-ts" target="_blank" rel="noopener noreferrer"
     className="inline-flex items-center gap-2 px-4 py-3 bg-gray-900 text-white rounded-lg hover:bg-gray-800 transition-colors no-underline text-sm font-medium">
    <svg className="w-4 h-4" fill="currentColor" viewBox="0 0 20 20"><path d="M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.30 3.297-1.30.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z"/></svg>
    TypeScript
  </a>
  <div className="inline-flex items-center gap-2 px-4 py-3 bg-gray-400 text-white rounded-lg no-underline text-sm font-medium cursor-not-allowed opacity-75">
    <svg className="w-4 h-4" fill="currentColor" viewBox="0 0 20 20"><path d="M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.30 3.297-1.30.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z"/></svg>
    Python (Coming Soon)
  </div>
</div>

### What This System Demonstrates

- **Advanced multi-agent orchestration**: Coordinated workflow between specialized research agents
- **Recursive algorithms**: Self-improving research with learning accumulation across iterations
- **External API integration**: Real-world web search with intelligent filtering and relevance evaluation
- **State accumulation**: Complex memory management and knowledge aggregation
- **Production patterns**: Error handling, rate limiting, comprehensive observability

The complete examples show how to build sophisticated research systems that demonstrate mastery of advanced agent concepts.

## Testing Your Deep Research System

1. **Start DevMode:**
```bash
agentuity dev
```

2. **Test research requests:**
   - **Simple topics**: "Benefits of renewable energy"
   - **Complex topics**: "Impact of quantum computing on cryptography"
   - **Technical subjects**: "Latest developments in machine learning architectures"

3. **Monitor the orchestration:**
   - Watch logs to see agent coordination and recursive research calls
   - Observe how research accumulates across multiple iterations
   - See report generation synthesis from accumulated findings
## Key Takeaways

By building this deep research system, you've mastered:

- **Multi-agent orchestration**: Coordinating specialized agents for complex workflows
- **Recursive algorithms**: Self-improving systems with learning accumulation
- **Production integration**: Real-world APIs with intelligent filtering and caching
- **Advanced memory management**: State accumulation across multiple agent interactions
- **Sophisticated observability**: Comprehensive tracking of complex agent workflows

You're now ready to build advanced production agent systems with Agentuity!

## What's Next?

- Deploy your research system to production
- Experiment with different research domains
- Build agents for your own complex use cases
- Share your implementations with the community

Welcome to advanced agent development! 🚀

---
