---
title: VectorStore
description: Agentuity Python SDK VectorStore API Reference
---

# VectorStore

The `VectorStore` class provides methods for storing and searching vectors for semantic similarity.

## Methods

### upsert

```python
async def upsert(self, name: str, documents: list[dict]) -> list[str]
```

Inserts or updates vectors in the vector storage.

- `name`: The name of the vector collection
- `documents`: A list of documents to store
- Returns: A list of document IDs

### get

```python
async def get(self, name: str, key: str) -> list[VectorSearchResult]
```

Gets vectors from the vector storage by key.

- `name`: The name of the vector collection
- `key`: The key to retrieve
- Returns: A list of `VectorSearchResult` objects

### search

```python
async def search(
    self,
    name: str,
    query: str,
    limit: int = 10,
    similarity: float = 0.5,
    metadata: Optional[dict] = {}
) -> list[VectorSearchResult]
```

Searches for vectors in the vector storage by semantic similarity.

- `name`: The name of the vector collection
- `query`: The search query
- `limit`: The maximum number of results to return
- `similarity`: The minimum similarity threshold (0.0 to 1.0)
- `metadata`: Optional metadata filters
- Returns: A list of `VectorSearchResult` objects

### delete

```python
async def delete(self, name: str, key: str) -> int
```

Deletes vectors from the vector storage.

- `name`: The name of the vector collection
- `key`: The key to delete
- Returns: The number of deleted vectors

## VectorSearchResult

The `VectorSearchResult` class represents a result from a vector search.

### Properties

- `id`: The ID of the vector
- `key`: The key of the vector
- `distance`: The distance of the vector from the query (0.0 to 1.0)
- `metadata`: The metadata of the vector

## Example

```python
async def run(request: AgentRequest, response: AgentResponse, context: AgentContext):
    # Index documents
    documents = [
        {
            "key": "doc1",
            "document": "This is a document about artificial intelligence",
            "metadata": {"category": "AI", "author": "John Doe"}
        },
        {
            "key": "doc2",
            "document": "Machine learning is a subset of AI",
            "metadata": {"category": "ML", "author": "Jane Smith"}
        }
    ]
    
    ids = await context.vector.upsert("documents", documents)
    
    # Search for documents
    results = await context.vector.search(
        "documents",
        "neural networks and deep learning",
        limit=5,
        similarity=0.7,
        metadata={"category": "ML"}
    )
    
    # Process search results
    documents = [
        {
            "id": result.id,
            "key": result.key,
            "similarity": 1.0 - result.distance,
            "metadata": result.metadata
        }
        for result in results
    ]
    
    return response.json({"documents": documents})
```
